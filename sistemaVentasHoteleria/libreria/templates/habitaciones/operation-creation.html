{% extends 'base.html' %}
{% load static %}

{% block titulo %}
  Selecci√≥n
{% endblock %}

{% block contenido %}
  <div class="container mt-5">
    <div class="row">
      <!-- Imagen -->
      <div class="col-md-6 mb-3">
        <div class="bg-dark border border-secondary rounded shadow-sm p-2 text-center">
          {% if room.image %}
            <img src="{{ room.image.url }}" class="img-fluid rounded" alt="Imagen de la habitaci√≥n" />
          {% else %}
            <img src="https://via.placeholder.com/500x300" class="img-fluid rounded" alt="Sin imagen" />
          {% endif %}
        </div>
      </div>

      <!-- Informaci√≥n de la habitaci√≥n -->
      <div class="col-md-6 mb-3">
        <div class="bg-dark border border-secondary rounded shadow-sm p-4 text-white">
          <h3 class="mb-3">Habitaci√≥n N¬∞ {{ room.number }}</h3>
          <ul class="list-group list-group-flush">
            <li class="list-group-item bg-dark text-white">
              <strong>Piso:</strong> {{ room.floor }}
            </li>
            <li class="list-group-item bg-dark text-white">
              <strong>Categor√≠a:</strong> {{ room.category.name }}
            </li>
            <li class="list-group-item bg-dark text-white">
              <strong>Tipo de cuarto:</strong> {{ room.type.name }}
            </li>
            <li class="list-group-item bg-dark text-white">
              <strong>Estado:</strong> {{ room.status.name }}
            </li>
            <li class="list-group-item bg-dark text-white">
              <strong>Tipo de cama:</strong> {{ room.bed_type.name }}
            </li>
            <li class="list-group-item bg-dark text-white">
              <strong>Capacidad:</strong> {{ room.capacity }} personas
            </li>
            <li class="list-group-item bg-dark text-white">
              <strong>Descripci√≥n:</strong> {{ room.description }}
            </li>
            <li class="list-group-item bg-dark text-white">
              <strong>Precio por noche:</strong> S/. {{ room.price_per_night }}
            </li>
            <li class="list-group-item bg-dark text-white">
              <strong>Disponible:</strong> {{ room.available|yesno:'S√≠,No' }}
            </li>
          </ul>
          <div class="text-end mt-3">
            <a href="{% url 'habitaciones' %}" class="btn btn-outline-light">‚Üê Volver a habitaciones</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Datos del cliente si hay reserva -->
    {% if reserva %}
      <div class="row mt-4">
        <div class="col-md-12">
          <div class="bg-secondary border border-light rounded shadow-sm text-white p-4">
            <h4 class="mb-3 text-white">üìã Datos del Cliente (Reserva Activa)</h4>
            <div class="row">
              <div class="col-md-6">
                <p>
                  <strong>Nombre:</strong> {{ reserva.customer_name }}
                </p>
                <p>
                  <strong>Documento:</strong> {{ reserva.customer_document }}
                </p>
                <p>
                  <strong>Correo:</strong> {{ reserva.customer_email }}
                </p>
                <p>
                  <strong>Tel√©fono:</strong> {{ reserva.customer_phone }}
                </p>
              </div>
              <div class="col-md-6">
                <p>
                  <strong>Check-in:</strong> {{ reserva.check_in }}
                </p>
                <p>
                  <strong>Check-out:</strong> {{ reserva.check_out }}
                </p>
                <p>
                  <strong>C√≥digo de Reserva:</strong> {{ reserva.code }}
                </p>
                <p>
                  <strong>Estado:</strong> {{ reserva.get_status_display }}
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    {% endif %}
  </div>
{% endblock %}
